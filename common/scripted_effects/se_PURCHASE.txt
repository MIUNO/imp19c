
#*************************************************
#*            The Purchase Order Plan            *
#*************************************************


#1. Wealth from pops in the governorship should all be pooled up to determine the "Purchasing Power" of the governorship for that quarter.
#	- This would be "WEALTH_governorship_total"

#2. Then sort demand by how important the trade good is.

#3. The purchase order will then be made to nearby trade zones that have an available stockpile for the goods that are in demand.

#4. Once the order is sent the movement cost between the trade zones can be factored in along with the price of the good. This will give the final price of the order.

#5. After the order is made the goods will be "moved" into the stockpile of the governorship that ordered them.

PURHCASE_make_shopping_list = {
	# Create a list of items that will need to be bought to satisfy demand this quarter
	# Scope = governorship

	# Iterate manually through all the stockpiles
	# Grain stockpile
	PURCHASE_check_shopping = {
		demand = DEMAND_grain
		stockpile = grain_stockpile
	}
	# Mediterranean fruit stockpile
	PURCHASE_check_shopping = {
		demand = DEMAND_mediterranean_fruit
		stockpile = mediterranean_fruit_stockpile
	}
	# Glass stockpile
	PURCHASE_check_shopping = {
		demand = DEMAND_glass
		stockpile = glass_stockpile
	}
}

PURCHASE_check_shopping = { # Check if it's necessary to go shopping for X stockpile
	if = {
		limit = {
			$demand$ > var:$stockpile$
		}
		PURCHASE_order = {
			for_stockpile = var:$stockpile$
		}
	}
}

PURHCASE_order = {
	# Every governorship does this for every deficit every quarter
	# $for_stockpile$ = the stockpile sent from the shopping list scripted effect when the PO is created
}


PURCHASE_reset_quarterly_var = {
	#Reset puchase variable every quarter for every country for every governorship
	if = {
		limit = {
			NOT = { has_variable = purchase_power }
		}
		set_variable = {
			name = purchase_power
			value = 0
		}
	}
	else = {
		remove_variable = purchase_power
		set_variable = {
			name = purchase_power
			value = 0
		}
	}
	change_variable = {
		name = purchase_power
		add = WEALTH_governorship_total
	}
}

PURHCASE_get_TZ_distances = { # At the beginning of the purchase phase, set variables to rank the distances between all other tradezones and this one
	# Scope: Trade center
	# This needs to run a check for every tradezone, so it can get the proper svalue
	# This saves performance overhead by saving the travel costs as static vars at the beginning of the quarter
	every_in_global_list = {
		list = list_of_trade_centers
		switch = {
			trigger = has_variable
			india_tradezone = {
				set_variable = {
						name = travel_cost_east_north_america
						value = india_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = india_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = india_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = india_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = india_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = india_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = india_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = india_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = india_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = india_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = india_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = india_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = india_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = india_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = india_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = india_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = india_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = india_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = india_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = india_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = india_to_east_mediterranean_svalue
					}
			}
			east_north_america_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = east_north_america_to_india_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = east_north_america_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = east_north_america_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = east_north_america_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = east_north_america_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = east_north_america_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = east_north_america_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = east_north_america_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = east_north_america_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = east_north_america_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = east_north_america_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = east_north_america_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = east_north_america_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = east_north_america_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = east_north_america_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = east_north_america_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = east_north_america_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = east_north_america_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = east_north_america_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = east_north_america_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = east_north_america_to_east_mediterranean_svalue
					}
			}
			west_north_america_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = west_north_america_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = west_north_america_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = west_north_america_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = west_north_america_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = west_north_america_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = west_north_america_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = west_north_america_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = west_north_america_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = west_north_america_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = west_north_america_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = west_north_america_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = west_north_america_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = west_north_america_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = west_north_america_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = west_north_america_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = west_north_america_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = west_north_america_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = west_north_america_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = west_north_america_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = west_north_america_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = west_north_america_to_east_mediterranean_svalue
					}
			}
			caribbean_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = caribbean_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = caribbean_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = caribbean_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = caribbean_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = caribbean_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = caribbean_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = caribbean_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = caribbean_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = caribbean_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = caribbean_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = caribbean_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = caribbean_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = caribbean_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = caribbean_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = caribbean_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = caribbean_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = caribbean_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = caribbean_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = caribbean_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = caribbean_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = caribbean_to_east_mediterranean_svalue
					}
			}
			west_south_america_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = west_south_america_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = west_south_america_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = west_south_america_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = west_south_america_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = west_south_america_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = west_south_america_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = west_south_america_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = west_south_america_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = west_south_america_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = west_south_america_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = west_south_america_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = west_south_america_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = west_south_america_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = west_south_america_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = west_south_america_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = west_south_america_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = west_south_america_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = west_south_america_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = west_south_america_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = west_south_america_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = west_south_america_to_east_mediterranean_svalue
					}
			}
			east_south_america_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = east_south_america_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = east_south_america_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = east_south_america_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = east_south_america_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = east_south_america_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = east_south_america_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = east_south_america_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = east_south_america_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = east_south_america_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = east_south_america_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = east_south_america_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = east_south_america_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = east_south_america_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = east_south_america_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = east_south_america_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = east_south_america_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = east_south_america_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = east_south_america_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = east_south_america_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = east_south_america_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = east_south_america_to_east_mediterranean_svalue
					}
			}
			south_east_asia_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = south_east_asia_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = south_east_asia_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = south_east_asia_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = south_east_asia_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = south_east_asia_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = south_east_asia_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = south_east_asia_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = south_east_asia_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = south_east_asia_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = south_east_asia_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = south_east_asia_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = south_east_asia_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = south_east_asia_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = south_east_asia_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = south_east_asia_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = south_east_asia_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = south_east_asia_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = south_east_asia_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = south_east_asia_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = south_east_asia_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = south_east_asia_to_east_mediterranean_svalue
					}
			}
			indo_china_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = indo_china_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = indo_china_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = indo_china_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = indo_china_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = indo_china_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = indo_china_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = indo_china_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = indo_china_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = indo_china_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = indo_china_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = indo_china_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = indo_china_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = indo_china_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = indo_china_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = indo_china_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = indo_china_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = indo_china_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = indo_china_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = indo_china_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = indo_china_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = indo_china_to_east_mediterranean_svalue
					}
			}
			yellow_sea_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = yellow_sea_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = yellow_sea_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = yellow_sea_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = yellow_sea_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = yellow_sea_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = yellow_sea_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = yellow_sea_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = yellow_sea_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = yellow_sea_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = yellow_sea_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = yellow_sea_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = yellow_sea_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = yellow_sea_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = yellow_sea_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = yellow_sea_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = yellow_sea_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = yellow_sea_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = yellow_sea_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = yellow_sea_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = yellow_sea_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = yellow_sea_to_east_mediterranean_svalue
					}
			}
			southern_africa_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = southern_africa_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = southern_africa_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = southern_africa_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = southern_africa_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = southern_africa_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = southern_africa_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = southern_africa_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = southern_africa_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = southern_africa_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = southern_africa_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = southern_africa_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = southern_africa_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = southern_africa_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = southern_africa_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = southern_africa_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = southern_africa_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = southern_africa_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = southern_africa_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = southern_africa_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = southern_africa_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = southern_africa_to_east_mediterranean_svalue
					}
			}
			west_africa_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = west_africa_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = west_africa_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = west_africa_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = west_africa_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = west_africa_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = west_africa_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = west_africa_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = west_africa_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = west_africa_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = west_africa_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = west_africa_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = west_africa_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = west_africa_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = west_africa_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = west_africa_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = west_africa_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = west_africa_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = west_africa_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = west_africa_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = west_africa_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = west_africa_to_east_mediterranean_svalue
					}
			}
			east_africa_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = east_africa_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = east_africa_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = east_africa_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = east_africa_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = east_africa_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = east_africa_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = east_africa_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = east_africa_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = east_africa_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = east_africa_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = east_africa_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = east_africa_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = east_africa_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = east_africa_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = east_africa_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = east_africa_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = east_africa_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = east_africa_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = east_africa_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = east_africa_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = east_africa_to_east_mediterranean_svalue
					}
			}
			middle_east_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = middle_east_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = middle_east_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = middle_east_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = middle_east_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = middle_east_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = middle_east_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = middle_east_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = middle_east_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = middle_east_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = middle_east_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = middle_east_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = middle_east_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = middle_east_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = middle_east_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = middle_east_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = middle_east_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = middle_east_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = middle_east_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = middle_east_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = middle_east_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = middle_east_to_east_mediterranean_svalue
					}
			}
			western_steppe_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = western_steppe_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = western_steppe_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = western_steppe_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = western_steppe_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = western_steppe_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = western_steppe_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = western_steppe_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = western_steppe_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = western_steppe_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = western_steppe_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = western_steppe_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = western_steppe_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = western_steppe_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = western_steppe_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = western_steppe_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = western_steppe_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = western_steppe_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = western_steppe_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = western_steppe_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = western_steppe_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = western_steppe_to_east_mediterranean_svalue
					}
			}
			eastern_steppe_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = eastern_steppe_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = eastern_steppe_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = eastern_steppe_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = eastern_steppe_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = eastern_steppe_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = eastern_steppe_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = eastern_steppe_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = eastern_steppe_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = eastern_steppe_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = eastern_steppe_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = eastern_steppe_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = eastern_steppe_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = eastern_steppe_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = eastern_steppe_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = eastern_steppe_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = eastern_steppe_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = eastern_steppe_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = eastern_steppe_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = eastern_steppe_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = eastern_steppe_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = eastern_steppe_to_east_mediterranean_svalue
					}
			}
			upper_yangtzi_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = upper_yangtzi_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = upper_yangtzi_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = upper_yangtzi_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = upper_yangtzi_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = upper_yangtzi_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = upper_yangtzi_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = upper_yangtzi_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = upper_yangtzi_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = upper_yangtzi_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = upper_yangtzi_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = upper_yangtzi_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = upper_yangtzi_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = upper_yangtzi_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = upper_yangtzi_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = upper_yangtzi_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = upper_yangtzi_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = upper_yangtzi_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = upper_yangtzi_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = upper_yangtzi_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = upper_yangtzi_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = upper_yangtzi_to_east_mediterranean_svalue
					}
			}
			atlantic_seaboard_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = atlantic_seaboard_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = atlantic_seaboard_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = atlantic_seaboard_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = atlantic_seaboard_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = atlantic_seaboard_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = atlantic_seaboard_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = atlantic_seaboard_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = atlantic_seaboard_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = atlantic_seaboard_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = atlantic_seaboard_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = atlantic_seaboard_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = atlantic_seaboard_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = atlantic_seaboard_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = atlantic_seaboard_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = atlantic_seaboard_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = atlantic_seaboard_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = atlantic_seaboard_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = atlantic_seaboard_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = atlantic_seaboard_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = atlantic_seaboard_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = atlantic_seaboard_to_east_mediterranean_svalue
					}
			}
			central_europe_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = central_europe_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = central_europe_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = central_europe_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = central_europe_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = central_europe_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = central_europe_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = central_europe_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = central_europe_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = central_europe_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = central_europe_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = central_europe_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = central_europe_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = central_europe_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = central_europe_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = central_europe_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = central_europe_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = central_europe_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = central_europe_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = central_europe_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = central_europe_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = central_europe_to_east_mediterranean_svalue
					}
			}
			west_mediterranean_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = west_mediterranean_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = west_mediterranean_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = west_mediterranean_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = west_mediterranean_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = west_mediterranean_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = west_mediterranean_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = west_mediterranean_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = west_mediterranean_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = west_mediterranean_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = west_mediterranean_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = west_mediterranean_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = west_mediterranean_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = west_mediterranean_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = west_mediterranean_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = west_mediterranean_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = west_mediterranean_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = west_mediterranean_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = west_mediterranean_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = west_mediterranean_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = west_mediterranean_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = west_mediterranean_to_east_mediterranean_svalue
					}
			}
			baltic_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = baltic_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = baltic_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = baltic_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = baltic_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = baltic_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = baltic_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = baltic_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = baltic_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = baltic_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = baltic_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = baltic_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = baltic_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = baltic_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = baltic_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = baltic_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = baltic_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = baltic_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = baltic_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = baltic_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = baltic_to_east_europe_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = baltic_to_east_mediterranean_svalue
					}
			}
			east_europe_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = east_europe_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = east_europe_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = east_europe_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = east_europe_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = east_europe_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = east_europe_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = east_europe_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = east_europe_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = east_europe_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = east_europe_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = east_europe_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = east_europe_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = east_europe_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = east_europe_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = east_europe_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = east_europe_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = east_europe_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = east_europe_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = east_europe_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = east_europe_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_mediterranean
						value = east_europe_to_east_mediterranean_svalue
					}
			}
			east_mediterranean_tradezone = {
				set_variable = {
						name = travel_cost_india
						value = east_mediterranean_to_india_svalue
					}
				set_variable = {
						name = travel_cost_east_north_america
						value = east_mediterranean_to_east_north_america_svalue
					}
				set_variable = {
						name = travel_cost_west_north_america
						value = east_mediterranean_to_west_north_america_svalue
					}
				set_variable = {
						name = travel_cost_caribbean
						value = east_mediterranean_to_caribbean_svalue
					}
				set_variable = {
						name = travel_cost_west_south_america
						value = east_mediterranean_to_west_south_america_svalue
					}
				set_variable = {
						name = travel_cost_east_south_america
						value = east_mediterranean_to_east_south_america_svalue
					}
				set_variable = {
						name = travel_cost_south_east_asia
						value = east_mediterranean_to_south_east_asia_svalue
					}
				set_variable = {
						name = travel_cost_indo_china
						value = east_mediterranean_to_indo_china_svalue
					}
				set_variable = {
						name = travel_cost_yellow_sea
						value = east_mediterranean_to_yellow_sea_svalue
					}
				set_variable = {
						name = travel_cost_southern_africa
						value = east_mediterranean_to_southern_africa_svalue
					}
				set_variable = {
						name = travel_cost_west_africa
						value = east_mediterranean_to_west_africa_svalue
					}
				set_variable = {
						name = travel_cost_east_africa
						value = east_mediterranean_to_east_africa_svalue
					}
				set_variable = {
						name = travel_cost_middle_east
						value = east_mediterranean_to_middle_east_svalue
					}
				set_variable = {
						name = travel_cost_western_steppe
						value = east_mediterranean_to_western_steppe_svalue
					}
				set_variable = {
						name = travel_cost_eastern_steppe
						value = east_mediterranean_to_eastern_steppe_svalue
					}
				set_variable = {
						name = travel_cost_upper_yangtzi
						value = east_mediterranean_to_upper_yangtzi_svalue
					}
				set_variable = {
						name = travel_cost_atlantic_seaboard
						value = east_mediterranean_to_atlantic_seaboard_svalue
					}
				set_variable = {
						name = travel_cost_central_europe
						value = east_mediterranean_to_central_europe_svalue
					}
				set_variable = {
						name = travel_cost_west_mediterranean
						value = east_mediterranean_to_west_mediterranean_svalue
					}
				set_variable = {
						name = travel_cost_baltic
						value = east_mediterranean_to_baltic_svalue
					}
				set_variable = {
						name = travel_cost_east_europe
						value = east_mediterranean_to_east_europe_svalue
					}
			}
		}
	}
}

PURCHASE_rank_deals = { # Rank tradezones by total costs for the named tradegood
	# Scope: Trade center
	# This effect creates a list of the best deals with the best deal first, including a variable that stores the best deal.
	# This somehow needs to add together the TZ's price for selling the named good + the travel cost variable
	ordered_in_global_list = {
		list = list_of_trade_centers

		# use a switch here too
		# And for each TZ, create a variable that is total_cost
		# total_cost = travel_cost + tradegood_price
		# Then compare all those variables and rank them
		# Create a special variable for top slot, for quick reference
		# And have a mechanism in place to swap to second best, etc. as the top slot runs out

		limit = { # Only check prices where there are goods available
			var:$goods_stockpile$ > 0
		}
		order_by = var:$tradegood_price$ # Order based on that TZ's price for the named tradegood
		PREV = {
			set_variable = {
				name = $best_value_for_goods$ # format = best_value_for_grain
				value = PREV # The TZ scope
			}
		}
	}
}

# Sale actions

SELL_declare_all_available = {
	# Scope: Governorship
	# This effect gets the governorship to declare to the tradezone (TZ) what resources it has available to sell
	# Once all governorships have done this, the TZ will have a stockpile of available goods to sell in order to meet POs
	# Then the governorships will all get a cut of revenue from these sales
	if = { # Grain
		limit = {
			var:grain_stockpile > TRADE_governorship_export_threshold_grain
		}
		SELL_declare_available = {
			goods_stockpile = grain_stockpile
			amount_for_sale = grain_for_sale # svalue
			goods_offered = grain_offered
		}
	}
	if = {
		limit = {
			var:mediterranean_fruit_stockpile > TRADE_governorship_export_threshold_mediterranean_fruit
		}
		SELL_declare_available = {
			goods_stockpile = mediterranean_fruit_stockpile
			amount_for_sale = mediterranean_fruit_for_sale # svalue
			goods_offered = mediterranean_fruit_offered
		}
	}
	if = {
		limit = {
			var:glass_stockpile > TRADE_governorship_export_threshold_glass
		}
		SELL_declare_available = {
			goods_stockpile = glass_stockpile
			amount_for_sale = glass_for_sale # svalue
			goods_offered = glass_offered
		}
	}
}


SELL_declare_available = {
	# Scope: Governorship
	set_variable = { # Within the governorship scope, track how much was sold so you can then calculate how much of a cut to get
	# See SELL_calculate_cut to see how the cut of revenue gets calculated
		name = $goods_offered$
		value = $amount_for_sale$
	}
	random_trade_center = { # Scope to the tradezone
		# Add to the tradezone's stockpile
		change_variable = { # TODO: set stockpile variables in the TZ scope at game start when TZs are created
			name = $goods_stockpile$ # The trade center variable will have the same name as the governorship one, for ease of transfer
			value = $amount_for_sale$ # This amount is derived from the governorship's stockpile multiplied by an svalue
		}
	}
}
	# A governorship declares how much is available for its tradezone.
	# The proportion that governorship's available stock makes up of the tradezone total is the...
	#... share of gross profit that goes back to the governorship when that stockpile is bought from

SELL_calculate_revenue_cut_percentage = { # Calculates how much money the governorship should get for contributing goods to the tradezone's for-sale stockpile
	# This calculates the percentage BEFORE sales are made, and AFTER all the SELL_declare_available actions have been completed
	# Should only be called if the governorship has actually sold any of the given tradegood. How to limit this to that scenario?
	# Scope: governorship
	set_variable = { # Get the total of the goods in the tradezone
		name = $stockpile_cut_percentage$ # This argument gets a name like "grain_stockpile_cut_percentage"
		value = $amount_of_goods_offered$ # It starts off just containing the value of the whole stockpile
	}
	change_variable = { # Now divide the amount contributed by the total in the TZ stockpile, getting a percentage.
		# e.g. if the governorship contributed 150 units and the TZ stockpile has 1000 units, you get 0.15 (15%)
		name = $stockpile_cut_percentage$
		divide = var:trade_center.var:$tradezone_stockpile$ # Gets the stockpile from the tradezone e.g. "grain_stockpile"
	}
	# Now the stockpile cut percentage variable for this month can be used to divvy out the total
	# Another scripted effect, SELL_get_cut_of_revenue, will multiply the TZ total revenue by the local stockpile cut percentage var for every good sent to market
	# So if total TZ revenue were £5,000, we'd multiply that by 0.15 and get this governorship's cut, £750.
}

SELL_get_cut_of_revenue = {
	# WIP
	# Scope: governorship
	random_trade_center = { # Scope to the tradezone
		save_scope_as = tradezone
	}
	set_variable = { # Get the total revenue from the tradezone
		name = $local_cut_of_revenue$ # This needs to be passed a name in the format "grain_actual_revenue_cut"
		value = var:trade_center.var:$tradezone_revenue_var$ # This needs a variable name like "TZ_revenue_total_grain"
	}
	change_variable = {
		name = $local_cut_of_revenue$
		multiply = $stockpile_cut_percentage$ # This argument gets a name like "grain_stockpile_cut_percentage"
	}
}

SELL_deduct_offered_goods = {
	# TBC
	# Effect to actually decrease a governorship's stockpile when goods are sold from the TZ scope!
	# This will probably need two scenarios in case a governorship is selling to itself (i.e. customers for a good within the same governorship)
}